# Вопрос для Grok: Unsigned iOS IPA с Swift libraries для iOS 18.4

## Контекст
Собираем unsigned IPA в GitHub Actions (Xcode 15.4, macos-14) для Godot 4.4.1 с Yandex Mobile Ads SDK 7.5.0 (Swift).

## Проблема
Приложение крашится на iPhone iOS 18.4.1 с ошибкой:
```
swift::fatalError -> checkVersion() -> abort()
libswiftCore.dylib UUID: ad0cad3b-1b51-3327-8644-8be1ff1f0ae9
```

Это означает что Swift library несовместима с iOS 18.4.

## Что пробовали

### Попытка 1: ALWAYS_EMBED_SWIFT_STANDARD_LIBRARIES
```ruby
# Podfile post_install
config.build_settings['ALWAYS_EMBED_SWIFT_STANDARD_LIBRARIES'] = 'YES'
```
**Результат:** Не работает при `CODE_SIGNING_ALLOWED=NO` (unsigned build)

### Попытка 2: Ручное копирование из toolchain
```bash
SWIFT_LIBS="/Applications/Xcode_15.4.app/.../usr/lib/swift-5.0/iphoneos"
cp "$SWIFT_LIBS/libswiftCore.dylib" "$APP_PATH/Frameworks/"
```
**Результат:** Скопировались старые библиотеки для iOS 12.2

### Попытка 3: swift-stdlib-tool
```bash
swift-stdlib-tool \
  --copy \
  --scan-executable "$APP_PATH/ios_xcode" \
  --scan-folder "$APP_PATH/Frameworks" \
  --platform iphoneos \
  --destination "$APP_PATH/Frameworks"
```
**Результат:** Та же ошибка - старые библиотеки

## Build configuration
```bash
xcodebuild -workspace ios_xcode.xcworkspace \
  -scheme ios_xcode \
  -configuration Release \
  -sdk iphoneos \
  CODE_SIGN_IDENTITY="" \
  CODE_SIGNING_REQUIRED=NO \
  CODE_SIGNING_ALLOWED=NO \
  build
```

## Вопросы

1. **Где находятся правильные Swift libraries для iOS 17.5/18.4 в Xcode 15.4?**
   - Не в toolchain (там старые для iOS 12.2)
   - Не в iOS SDK (там только .tbd stubs)
   - Где реальные dylib для текущей iOS версии?

2. **Как правильно копировать Swift libraries для unsigned IPA?**
   - `swift-stdlib-tool` копирует старые версии
   - Есть ли другой официальный способ?
   - Может нужны дополнительные параметры для `swift-stdlib-tool`?

3. **Альтернативные подходы:**
   - Можно ли использовать signed IPA с development certificate в GitHub Actions?
   - Можно ли заставить CocoaPods embedded Swift libraries правильно?
   - Есть ли способ собрать IPA локально на Mac и использовать в CI?

4. **Почему CocoaPods не embedded Swift libraries автоматически?**
   - Используем `use_frameworks! :linkage => :static`
   - Yandex SDK требует Swift
   - Почему static linkage не включает Swift runtime?

## Цель
Получить работающий unsigned IPA с правильными Swift libraries для iOS 18.4, собранный в GitHub Actions.

## Дополнительная информация
- Xcode 15.4 (Build 15F31d)
- iOS SDK 17.5
- iPhone iOS 18.4.1
- Godot 4.4.1
- Yandex Mobile Ads 7.5.0 (Swift 5)
- GitHub Actions runner: macos-14

Нужно конкретное решение которое работает в CI/CD без локального Mac.
