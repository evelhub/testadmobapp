# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –ö–æ–º–ø–∏–ª—è—Ü–∏—è iOS –ø–ª–∞–≥–∏–Ω–æ–≤ —á–µ—Ä–µ–∑ GitHub Actions

## –ü—Ä–æ–±–ª–µ–º–∞
–£ —Ç–µ–±—è –Ω–µ—Ç Mac, –Ω–æ –Ω—É–∂–Ω–æ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å iOS –ø–ª–∞–≥–∏–Ω—ã.

## –†–µ—à–µ–Ω–∏–µ
GitHub Actions —Å macOS runner —Å–¥–µ–ª–∞–µ—Ç –≤—Å—ë –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

## –ß—Ç–æ —è —Å–¥–µ–ª–∞–ª

1. ‚úÖ –°–æ–∑–¥–∞–ª –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–ª–∞–≥–∏–Ω `YandexAdsPlugin.h/.mm`
2. ‚úÖ –°–æ–∑–¥–∞–ª —Å–∫—Ä–∏–ø—Ç –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ `ios/build_plugins.sh`
3. ‚úÖ –î–æ–±–∞–≤–∏–ª —à–∞–≥ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –≤ `.github/workflows/build-ios.yml`
4. ‚úÖ –û–±–Ω–æ–≤–∏–ª `.gdip` —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `.xcframework`

## –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¢–ï–ë–ï

### –®–∞–≥ 1: –ó–∞–∫–æ–º–º–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è

```bash
git add .
git commit -m "Add iOS plugin compilation to GitHub Actions"
git push
```

### –®–∞–≥ 2: –î–æ–∂–¥–∞—Ç—å—Å—è —Å–±–æ—Ä–∫–∏

GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –°–∫–∞—á–∞–µ—Ç Yandex SDK
2. –°–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç `YandexAdsPlugin.mm` ‚Üí `yandex_ads.xcframework`
3. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç Godot –ø—Ä–æ–µ–∫—Ç —Å –ø–ª–∞–≥–∏–Ω–æ–º
4. –°–æ–±–µ—Ä—ë—Ç IPA

### –®–∞–≥ 3: –°–∫–∞—á–∞—Ç—å IPA

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏:
1. –ó–∞–π–¥–∏ –≤ Actions ‚Üí –ø–æ—Å–ª–µ–¥–Ω–∏–π workflow
2. –°–∫–∞—á–∞–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç `TestAdMobApp-iOS`
3. –£—Å—Ç–∞–Ω–æ–≤–∏ —á–µ—Ä–µ–∑ Sideloadly

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏

–í 3uTools –∏—â–∏:
- `YANDEX-PLUGIN` - –ª–æ–≥–∏ –ø–ª–∞–≥–∏–Ω–∞
- `YANDEX-C-BRIDGE` - –≤—ã–∑–æ–≤ init
- `YMA` - Yandex Mobile Ads SDK

## –ß—Ç–æ —É–≤–∏–¥–∏—à—å –≤ –ª–æ–≥–∞—Ö

```
üü° [YANDEX-C-BRIDGE] yandex_ads_init() called
üü° [YANDEX-PLUGIN] YandexAdsPlugin instance created
üü° [YANDEX-PLUGIN] Initializing Yandex Mobile Ads SDK...
‚úÖ [YANDEX-PLUGIN] Yandex Mobile Ads SDK initialized successfully
```

## –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥—ë—Ç –Ω–µ —Ç–∞–∫

### –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –ø–ª–∞–≥–∏–Ω–∞
–ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ GitHub Actions:
```
Actions ‚Üí Build iOS IPA ‚Üí Compile iOS Plugins
```

### –ü–ª–∞–≥–∏–Ω –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ `.xcframework` —Å–æ–∑–¥–∞–ª—Å—è –≤ Actions
2. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤ `export_presets.cfg`: `plugins/YandexAds=true`
3. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

### –ù–µ—Ç –ª–æ–≥–æ–≤ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
–ó–Ω–∞—á–∏—Ç –ø–ª–∞–≥–∏–Ω –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è. –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
- `.xcframework` –Ω–µ —Å–æ–∑–¥–∞–ª—Å—è
- –ò–º—è –≤ `.gdip` –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å `export_presets.cfg`
- Godot –Ω–µ –≤–∫–ª—é—á–∏–ª –ø–ª–∞–≥–∏–Ω –≤ —ç–∫—Å–ø–æ—Ä—Ç

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —ç—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

‚úÖ –ù–µ –Ω—É–∂–µ–Ω Mac
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è –≤ CI
‚úÖ –ü–æ–≤—Ç–æ—Ä—è–µ–º–∞—è —Å–±–æ—Ä–∫–∞
‚úÖ –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–æ–≤:
1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∫–∞–∑ –±–∞–Ω–Ω–µ—Ä–æ–≤
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å rewarded ads
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å callbacks
4. –î–æ–±–∞–≤–∏—Ç—å VK Ads –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ—Å–ª–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

```
ios/plugins/yandex_ads/
‚îú‚îÄ‚îÄ YandexAdsPlugin.h
‚îú‚îÄ‚îÄ YandexAdsPlugin.mm
‚îú‚îÄ‚îÄ yandex_ads.gdip
‚îú‚îÄ‚îÄ yandex_ads.xcframework/     ‚Üê –°–æ–∑–¥–∞—ë—Ç—Å—è –≤ GitHub Actions
‚îÇ   ‚îú‚îÄ‚îÄ Info.plist
‚îÇ   ‚îú‚îÄ‚îÄ ios-arm64/
‚îÇ   ‚îî‚îÄ‚îÄ ios-arm64_x86_64-simulator/
‚îî‚îÄ‚îÄ YandexMobileAds.xcframework/ ‚Üê –°–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ Actions
```

## –í–∞–∂–Ω–æ!

–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏ –º–æ–∂–Ω–æ:
1. –°–∫–∞—á–∞—Ç—å `.xcframework` –∏–∑ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
2. –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –£–±—Ä–∞—Ç—å —à–∞–≥ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏–∑ workflow (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ù–æ –ª—É—á—à–µ –æ—Å—Ç–∞–≤–∏—Ç—å –∫–æ–º–ø–∏–ª—è—Ü–∏—é –≤ CI - —Ç–∞–∫ –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è.
